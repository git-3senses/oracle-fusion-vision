import{j as e}from"./radix-yKnm7QCl.js";import{r as i}from"./vendor-CU0uM7a2.js";import{B as u}from"./button-Co8cv8NH.js";import{L as d,I as m}from"./label-CTSzVvqU.js";import{C as N,b as C,c as S,a as L}from"./card-D-AsCHED.js";import{T,a as U,b as f,c as v}from"./tabs-CQ0iRw7G.js";import{u as k,s as p}from"./index-CgoZkpF6.js";import{a as E}from"./router-tS1r0LNX.js";import{r as A,s as P,t as F}from"./icons-D2oHHS-h.js";import"./utils-B2rm_Apj.js";import"./supabase-CbVNuAdk.js";import"./query-dX0FI0I0.js";const J=()=>{const[t,r]=i.useState(!1),[n,h]=i.useState(""),[l,g]=i.useState(""),[w,x]=i.useState("login"),{toast:o}=k(),c=E();i.useEffect(()=>{(async()=>{const{data:{session:a}}=await p.auth.getSession();a&&c("/vac_admin")})()},[c]);const y=async s=>{s.preventDefault(),r(!0);try{const{error:a}=await p.auth.signInWithPassword({email:n,password:l});if(a)throw a;o({title:"Login Successful",description:"Redirecting to admin panel..."}),c("/vac_admin")}catch(a){o({title:"Login Failed",description:a.message,variant:"destructive"})}finally{r(!1)}},b=async s=>{s.preventDefault(),r(!0);try{const a=`${window.location.origin}/vac_admin`,{error:j}=await p.auth.signUp({email:n,password:l,options:{emailRedirectTo:a}});if(j)throw j;o({title:"Sign Up Successful",description:"Please check your email for verification link."}),x("login")}catch(a){o({title:"Sign Up Failed",description:a.message,variant:"destructive"})}finally{r(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-hero p-6",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs(u,{variant:"ghost",onClick:()=>c("/"),className:"mb-6 text-white hover:bg-white/10",children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),e.jsxs(N,{className:"bg-white/95 backdrop-blur-sm",children:[e.jsxs(C,{className:"text-center",children:[e.jsx(S,{className:"text-2xl font-bold",children:"Admin Access"}),e.jsx("p",{className:"text-muted-foreground",children:"Sign in to access the admin panel"})]}),e.jsxs(L,{children:[e.jsxs(T,{value:w,onValueChange:x,children:[e.jsxs(U,{className:"grid w-full grid-cols-2",children:[e.jsx(f,{value:"login",children:"Login"}),e.jsx(f,{value:"signup",children:"Sign Up"})]}),e.jsx(v,{value:"login",children:e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"login-email",children:"Email"}),e.jsx(m,{id:"login-email",type:"email",value:n,onChange:s=>h(s.target.value),placeholder:"vijay_adina@vijayappsconsultants.com",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"login-password",children:"Password"}),e.jsx(m,{id:"login-password",type:"password",value:l,onChange:s=>g(s.target.value),placeholder:"Enter your password",required:!0})]}),e.jsxs(u,{type:"submit",className:"w-full",disabled:t,children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),t?"Signing in...":"Sign In"]})]})}),e.jsx(v,{value:"signup",children:e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"signup-email",children:"Email"}),e.jsx(m,{id:"signup-email",type:"email",value:n,onChange:s=>h(s.target.value),placeholder:"Enter your email",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"signup-password",children:"Password"}),e.jsx(m,{id:"signup-password",type:"password",value:l,onChange:s=>g(s.target.value),placeholder:"Create a password",required:!0,minLength:6})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"By signing up, you agree to our terms and conditions."}),e.jsxs(u,{type:"submit",className:"w-full",disabled:t,children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),t?"Creating account...":"Create Account"]})]})})]}),e.jsxs("div",{className:"mt-6 p-4 bg-muted/50 rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Demo Access:"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Use email: ",e.jsx("code",{className:"bg-background px-1 rounded",children:"vijay_adina@vijayappsconsultants.com"}),e.jsx("br",{}),"Create an account first, then sign in to access the admin panel."]})]})]})]})]})})};export{J as default};
